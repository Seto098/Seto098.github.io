<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>【TA从入门到放弃】【一】</title>
    <url>/2021/09/16/TA%E5%85%A5%E9%97%A8-2021-09-16-TA%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    <content><![CDATA[<blockquote>
<p>我也想做TA</p>
</blockquote>
<p>[TOC]</p>
<p>Shader Graph基本使用</p>
<p>在unity导航栏Window-&gt;Packagr Manager搜索<code>Shader Graph</code>安装</p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210916145112722.png"></p>
<p>创建ShaderGraph文件</p>
<p>通过Project右键Create-&gt;Shader创建ShaderGraph文件<br><code>Unlit Graph</code>不受光照<br><code>PBR Graph</code>PBR<br><code>Sub Graph</code>可创建复杂节点</p>
<h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><h3 id="PBR-Graph（physically-base-rendering"><a href="#PBR-Graph（physically-base-rendering" class="headerlink" title="PBR Graph（physically base rendering)"></a>PBR Graph（physically base rendering)</h3><p>用于制作基于物理的Shader</p>
<table>
<thead>
<tr>
<th align="right"></th>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="right">Vertex Position</td>
<td align="left">顶点在模型空间中坐标</td>
</tr>
<tr>
<td align="right">Vertex Normal</td>
<td align="left">顶点法线</td>
</tr>
<tr>
<td align="right">Vertex Tangent</td>
<td align="left">顶点法线切线</td>
</tr>
<tr>
<td align="right">Albedo</td>
<td align="left">反射率</td>
</tr>
<tr>
<td align="right">Normal</td>
<td align="left">法线</td>
</tr>
<tr>
<td align="right">Emission</td>
<td align="left">自发光</td>
</tr>
<tr>
<td align="right">Metallic</td>
<td align="left">金属度</td>
</tr>
<tr>
<td align="right">Smoothness</td>
<td align="left">表面光滑</td>
</tr>
<tr>
<td align="right">Occlusion</td>
<td align="left">环境光阻挡</td>
</tr>
<tr>
<td align="right">Alpha</td>
<td align="left">透明度</td>
</tr>
<tr>
<td align="right">AlphaClipThreshold</td>
<td align="left">alpha钳制</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="right"></th>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="right">Workflow</td>
<td align="left">材质球Metallic或Specular模式</td>
</tr>
<tr>
<td align="right">Surface</td>
<td align="left">材质不透明<code>Opaque</code>透明<code>Transparent</code></td>
</tr>
<tr>
<td align="right">Blend</td>
<td align="left">给透明材质球指定混合模式</td>
</tr>
<tr>
<td align="right">Fragment Normal Space</td>
<td align="left"></td>
</tr>
<tr>
<td align="right">Two Sided</td>
<td align="left">模型是否双面渲染</td>
</tr>
</tbody></table>
<h2 id="创建节点"><a href="#创建节点" class="headerlink" title="创建节点"></a>创建节点</h2><h2 id="ShaderGraph错误"><a href="#ShaderGraph错误" class="headerlink" title="ShaderGraph错误"></a>ShaderGraph错误</h2><p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210917083420927.png"></p>
<p><code>package manager</code>搜索<code>High Definition Render Pipeline</code>安装</p>
<p>创建HDRP管道</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">project右键 --&gt; Create --&gt; Rendering --&gt; URP --&gt; High Definition Render Pipeline Asset</span><br></pre></td></tr></table></figure>
<p>将渲染管道放到Scriptable Render Pipeline Settings中<img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210917091551101.png"></p>
<p>Unity Shader Graph获取关照方向</p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210917093407453.png"></p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">if</span> SHADERGRAPH_PREVIEW</span></span><br><span class="line">	Direction = half3(<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0</span>);</span><br><span class="line">	Color = <span class="number">1</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">	Light light = GetMainLight();</span><br><span class="line">	Direction = light.direction;</span><br><span class="line">	Color = light.color;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>TA</category>
      </categories>
      <tags>
        <tag>Shader</tag>
      </tags>
  </entry>
  <entry>
    <title>UnityShader入门精要【基础篇】</title>
    <url>/2021/10/02/TA%E5%85%A5%E9%97%A8-2021-10-02-UnityShader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87%E3%80%91/</url>
    <content><![CDATA[<blockquote>
<p>一直都在学，但是就是学不会</p>
</blockquote>
<h1 id="渲染管线"><a href="#渲染管线" class="headerlink" title="渲染管线"></a>渲染管线</h1><p>一个渲染流程分三阶段：<strong>应用阶段<em>Application Stage</em>，几何阶段<em>Geometry Stage</em>，光栅化阶段<em>Rasterizer Stage</em></strong></p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210925193655970.png"></p>
<p><strong>应用阶段</strong></p>
<ul>
<li>通常由CPU负责实现，由开发者准备场景：摄像机模型光源等数据，设置渲染状态。</li>
<li>这一阶段最重要的输出是渲染所需的几何信息，即<strong>渲染图元</strong>（<strong>rendering primitives</strong>）。</li>
</ul>
<p><strong>几何阶段</strong></p>
<ul>
<li>通常在GPU上进行，处理所有要绘制的几何相关的。</li>
<li>负责每个渲染图元，进行逐顶点逐多边形的操作</li>
<li>把顶点坐标转换到屏幕空间</li>
</ul>
<p><strong>光栅化阶段</strong></p>
<ul>
<li>在GPU上运行。</li>
<li>对几何阶段得到的顶点数据（纹理坐标、顶点颜色等）进行插值，进行像素处理。</li>
</ul>
<h2 id="CPU和GPU之间的通信"><a href="#CPU和GPU之间的通信" class="headerlink" title="CPU和GPU之间的通信"></a>CPU和GPU之间的通信</h2><p>渲染管线的起点是CPU，即应用阶段。</p>
<ol>
<li><p>把数据加载到显存中</p>
<p>所有数据都要从硬盘加载到系统内存，然后网格和纹理等数据加载到显存中。</p>
</li>
<li><p>设置渲染状态</p>
<p>定于场景中的网格是怎样被渲染的。</p>
</li>
<li><p>调用Draw Call</p>
<p>由CPU发出，指向一个要被渲染的图元（primitives）列表。<br>当给定了一个Draw Call时，GPU会根据渲染状态（材质、纹理、着色器等）和所有输入的顶点数据来进行计算。<br>计算过程就是GPU渲染管线。</p>
</li>
</ol>
<h2 id="GPU渲染管线"><a href="#GPU渲染管线" class="headerlink" title="GPU渲染管线"></a>GPU渲染管线</h2>   <pre class="mermaid">   graph LR
   A[顶点数据]
   K[屏幕图像]

   A-->B
   subgraph -几何阶段
       subgraph -可完全编程控制
           B[顶点着色器]
           subgraph -可选
               C[曲面细分着色器]
               D[几何着色器]
           end
       end
       subgraph -可配置但不可编程
           E[裁剪]
       end
       subgraph -固定实现没控制权
           F[屏幕映射]
       end
       B-->C-->D-->E-->F
   end
   subgraph 光栅化阶段-
       subgraph 可完全编程控制-
           subgraph 可选-
               I[片元着色器]
           end
       end
       subgraph 可配置但不可编程-
           J[逐片元操作]
       end
       subgraph 固定实现没控制权-
           G[三角形设置]
           H[三角形遍历]
       end
       G-->H-->I-->J
   end
   J-->K</pre>

<p>   <img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210925194343845.png"></p>
]]></content>
      <categories>
        <category>Unity</category>
      </categories>
      <tags>
        <tag>Shader</tag>
        <tag>TA</tag>
      </tags>
  </entry>
  <entry>
    <title>UnityShader学习【一】</title>
    <url>/2021/10/02/TA%E5%85%A5%E9%97%A8-2021-10-02-UnityShader%E5%AD%A6%E4%B9%A0%E3%80%90%E4%B8%80%E3%80%91/</url>
    <content><![CDATA[<blockquote>
<p>一个Shader的学习记录</p>
</blockquote>
<p>[TOC]</p>
<p>UnityShader属性类型</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="comment">//自带颜色参数</span></span><br><span class="line">_Color(<span class="string">&quot;Color&quot;</span>,Color)=(<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line"><span class="comment">//四维向量xyzw,rgba</span></span><br><span class="line">_Vector(<span class="string">&quot;Vector&quot;</span>,Vector)=(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"><span class="comment">//整数</span></span><br><span class="line">_Int(<span class="string">&quot;Int&quot;</span>,Int)=<span class="number">1</span></span><br><span class="line"><span class="comment">//浮点数</span></span><br><span class="line">_Float(<span class="string">&quot;Float&quot;</span>,<span class="built_in">float</span>)=<span class="number">23.1</span></span><br><span class="line"><span class="comment">//范围</span></span><br><span class="line">_Range(<span class="string">&quot;Range&quot;</span>,Range(<span class="number">1</span>,<span class="number">0</span>))=<span class="number">0.5</span></span><br><span class="line"><span class="comment">//2D 3D纹理，不指定图片默认为white</span></span><br><span class="line">_2D(<span class="string">&quot;2DTexture&quot;</span>,<span class="number">2</span>D)=<span class="string">&quot;white&quot;</span>&#123;&#125;</span><br><span class="line">_3D(<span class="string">&quot;3DTexture&quot;</span>,<span class="number">3</span>D)=<span class="string">&quot;white&quot;</span>&#123;&#125;</span><br><span class="line"><span class="comment">//立方体纹理,不指定图片默认为white</span></span><br><span class="line">_Cube(<span class="string">&quot;Cube&quot;</span>,Cube)=<span class="string">&quot;white&quot;</span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>uniyuCG.cginc中常用函数</p>
<ul>
<li>视角方向</li>
</ul>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="comment">//模型空间中的顶点坐标-&gt;世界空间从这个点到摄像机的观察方向</span></span><br><span class="line"><span class="function">float3 <span class="title">WorldSpaceViewDir</span>(<span class="params">float4 v</span>)</span></span><br><span class="line"><span class="function"><span class="comment">//世界空间中的顶点坐标-&gt;世界空间从这个点到摄像机的观察方向</span></span></span><br><span class="line"><span class="function">float3 <span class="title">UnityWorldSpaceViewDir</span>(<span class="params">float4 v</span>)</span></span><br><span class="line"><span class="function"><span class="comment">//模型空间中的顶点坐标-&gt;模型空间从这个点到摄像机的观察方向</span></span></span><br><span class="line"><span class="function">float3 <span class="title">ObjSpaceViewDir</span>(<span class="params">float4 v</span>)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>光源方向</li>
</ul>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="comment">//模型空间中的顶点坐标-&gt;世界空间中从这个点到光源的方向</span></span><br><span class="line"><span class="function">float3 <span class="title">WorldSpaceLightDir</span>(<span class="params">float4 v</span>)</span></span><br><span class="line"><span class="function"><span class="comment">//世界空间中的顶点坐标-&gt;世界空间中从这个点到光源的方向</span></span></span><br><span class="line"><span class="function">float3 <span class="title">UnityWorldSpaceLightDir</span>(<span class="params">float4 v</span>)</span></span><br><span class="line"><span class="function"><span class="comment">//模型空间中的顶点坐标-&gt;模型空间中从这个点到光源的方向</span></span></span><br><span class="line"><span class="function">float3 <span class="title">ObjSpaceLightDir</span>(<span class="params">float4 v</span>)</span></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th align="right"></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td align="right">_WorldSpqceLightPos0</td>
<td>世界坐标中光源的位置或方向向量<br />如_WorldSpqceLightPos0.w<br />w为0为平行光，w为1则为点光源或聚光灯</td>
</tr>
</tbody></table>
<ul>
<li>方向转换</li>
</ul>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="comment">//法线方向从模型空间-&gt;世界空间</span></span><br><span class="line"><span class="function">float3 <span class="title">UnityObjectToWorldNormal</span>(<span class="params">float3 norm</span>)</span></span><br><span class="line"><span class="function"><span class="comment">//把方向    模型空间-&gt;世界空间</span></span></span><br><span class="line"><span class="function">float3 <span class="title">UnityObjectToWorldDir</span>(<span class="params">float3 dir</span>)</span></span><br><span class="line"><span class="function"><span class="comment">//把方向    世界空间-&gt;模型空间</span></span></span><br><span class="line"><span class="function">float3 <span class="title">UnityWorldToObjectDir</span>(<span class="params">float3 dir</span>)</span></span><br></pre></td></tr></table></figure>


<p>从应用程序传递到顶点函数的语义<strong>a2v</strong>（application to vertex）</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">POSITION------顶点坐标</span><br><span class="line">NORMAL--------法线</span><br><span class="line">TANGENT-------切线</span><br><span class="line">TEXCOORD0~n---纹理坐标</span><br><span class="line">COLOR---------顶点颜色</span><br></pre></td></tr></table></figure>
<p>从顶点函数传递给片元函数的语义</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SV_POSITION---剪裁空间中的顶点坐标</span><br><span class="line">COLOR0--------可以传递一组4个值</span><br><span class="line">COLOR1--------可以传递一组4个值</span><br><span class="line">TEXCOORD0~7---传递纹理坐标</span><br></pre></td></tr></table></figure>
<p>片元函数传递给系统</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SV_TARGET-----颜色值，显示到屏幕上的颜色</span><br></pre></td></tr></table></figure>
<p>ShaderLab属性类型和CG变量类型的匹配关系</p>
<table>
<thead>
<tr>
<th align="right">ShaderLab属性类型</th>
<th align="left">CG变量类型</th>
</tr>
</thead>
<tbody><tr>
<td align="right">Color,  Vector</td>
<td align="left">float4  half4  fixed4</td>
</tr>
<tr>
<td align="right">Range,  Float</td>
<td align="left">float,  half,  fixed</td>
</tr>
<tr>
<td align="right">2D</td>
<td align="left">sampler2D</td>
</tr>
<tr>
<td align="right">Cube</td>
<td align="left">samplerCube</td>
</tr>
<tr>
<td align="right">3D</td>
<td align="left">sampler3D</td>
</tr>
</tbody></table>
<p>从应用阶段传递模型数据给顶点着色器时unity支持的常用语义</p>
<table>
<thead>
<tr>
<th align="right">语义</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="right">POSITION</td>
<td align="left">模型空间中的顶点位置，通常为float4类型</td>
</tr>
<tr>
<td align="right">NORMAL</td>
<td align="left">顶点法线，通常是float3类型</td>
</tr>
<tr>
<td align="right">TANGENT</td>
<td align="left">顶点切线，通常是float4类型</td>
</tr>
<tr>
<td align="right">TEXCOORD0<br />TEXCOORD1</td>
<td align="left">该顶点的纹理坐标，通常是float2或float4类型</td>
</tr>
<tr>
<td align="right">COLOR</td>
<td align="left">顶点颜色，通常是fixed4或float4类型</td>
</tr>
</tbody></table>
<p>常用数学函数</p>
<table>
<thead>
<tr>
<th align="right">函数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td align="right">dot( A , B )</td>
<td>返回 A 和 B 的点积(dot product)。参数 A 和 B 可以是标量，也可以是向量</td>
</tr>
<tr>
<td align="right">pow( A , B )</td>
<td>返回 A 的 B 次方</td>
</tr>
<tr>
<td align="right"></td>
<td></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="right">函数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td align="right">saturate(x)</td>
<td>如果 x 小于 0，返回 0；如果 x 大于 1，返回1；否则，返回 x</td>
</tr>
<tr>
<td align="right">mul(M, N)</td>
<td>计算两个矩阵相乘，如果 M 为 AxB 阶矩阵，N 为 BxC阶矩阵，则返回 AxC 阶矩阵。</td>
</tr>
</tbody></table>
<p>几何函数（Geometric Functions）</p>
<table>
<thead>
<tr>
<th align="right">函数</th>
<th align="left">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="right">normalize( v)</td>
<td align="left">对向量进行归一化</td>
</tr>
</tbody></table>
<h6 id="第一个顶点-片元着色器"><a href="#第一个顶点-片元着色器" class="headerlink" title="第一个顶点/片元着色器"></a>第一个顶点/片元着色器</h6><p><img src="C:\Users\Seto\AppData\Roaming\Typora\typora-user-images\image-20210925143732550.png" alt="SimpleShader01"></p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="comment">//定义这个Unity Shader的名字</span></span><br><span class="line">Shader <span class="string">&quot;Custom/Learn_SimpleShader01&quot;</span></span><br><span class="line">&#123;</span><br><span class="line">  SubShader&#123;</span><br><span class="line">    Pass&#123;</span><br><span class="line">      CGPROGRAM</span><br><span class="line">      </span><br><span class="line">      <span class="comment">//#pragma vertex name</span></span><br><span class="line">      <span class="comment">//#pragma fragment name</span></span><br><span class="line">      <span class="comment">//声明了一个顶点函数vert和片元函数frag</span></span><br><span class="line">      <span class="meta">#<span class="meta-keyword">pragma</span> vertex vert</span></span><br><span class="line">      <span class="meta">#<span class="meta-keyword">pragma</span> fragment frag</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//POSITION把顶点坐标返回给v</span></span><br><span class="line">      <span class="comment">//SV_POSITION把值v作为裁剪空间中的顶点坐标</span></span><br><span class="line">      <span class="function">float4 <span class="title">vert</span>(<span class="params">float4 v : POSITION</span>):SV_POSITION</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> UnityObjectToClipPos(v);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//SV_TARGET返回黄色</span></span><br><span class="line">      <span class="function">float4 <span class="title">frag</span>(<span class="params"></span>):SV_TARGET</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> float4(<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      ENDCG</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  Fallback <span class="string">&quot;VertexLit&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h6 id="一个带结构体的着色器"><a href="#一个带结构体的着色器" class="headerlink" title="一个带结构体的着色器"></a>一个带结构体的着色器</h6><p>从顶点着色器输出一些数据（法线、纹理坐标等）传递给片元着色器，涉及到顶点着色器和片元着色器之间的通信。</p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210925143816388.png" alt="SimpleShader02"></p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line">Shader <span class="string">&quot;Custom/Learn_SimpleShader02&quot;</span></span><br><span class="line">&#123;</span><br><span class="line">  SubShader</span><br><span class="line">  &#123;</span><br><span class="line">    pass&#123;</span><br><span class="line">      CGPROGRAM</span><br><span class="line">      <span class="meta">#<span class="meta-keyword">pragma</span> vertex vert</span></span><br><span class="line">      <span class="meta">#<span class="meta-keyword">pragma</span> fragment frag</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//application to vertex</span></span><br><span class="line">      <span class="comment">//应用程序传递到顶点函数</span></span><br><span class="line">      <span class="comment">//使用一个结构体a2v来定义顶点着色器的输入</span></span><br><span class="line">      <span class="keyword">struct</span> a2v&#123;</span><br><span class="line">        <span class="comment">//用模型空间的顶点坐标填充vertex变量</span></span><br><span class="line">        float4 vertex : POSITION;</span><br><span class="line">        <span class="comment">//用模型空间的法线坐标填充normal变量</span></span><br><span class="line">        float3 normal : NORMAL;</span><br><span class="line">        <span class="comment">//用模型的第一套纹理坐标填充texcoord变量</span></span><br><span class="line">        float4 texcoord : TEXCOORD0;</span><br><span class="line">      &#125;;</span><br><span class="line">      </span><br><span class="line">      <span class="comment">//vertex to fragment</span></span><br><span class="line">      <span class="comment">//顶点函数传递到片元函数</span></span><br><span class="line">      <span class="comment">//使用一个结构体v2f来定义顶点着色器的输出</span></span><br><span class="line">      <span class="keyword">struct</span> v2f&#123;</span><br><span class="line">        <span class="comment">//pos里包含了顶点在裁剪空间中的位置信息</span></span><br><span class="line">        float4 pos : SV_POSITION;</span><br><span class="line">        <span class="comment">//COLOR0于一可以存储颜色信息</span></span><br><span class="line">        float3 color : COLOR0;</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">      <span class="function">v2f <span class="title">vert</span>(<span class="params">a2v v</span>)</span>&#123;</span><br><span class="line">        <span class="comment">//声明输出结构</span></span><br><span class="line">        v2f o;</span><br><span class="line">        o.pos=UnityObjectToClipPos(v.vertex);</span><br><span class="line">        <span class="comment">//v.normal包含了顶点的法线方向，范围在[-1.0,1.0]</span></span><br><span class="line">        <span class="comment">//映射到[0.0,1.0]存储在o.color中传递给片元着色器</span></span><br><span class="line">        o.color=v.normal * <span class="number">0.5</span> + float3(<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>);</span><br><span class="line">        <span class="keyword">return</span> o;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="function">float4 <span class="title">frag</span>(<span class="params">v2f i</span>):SV_TARGET</span>&#123;</span><br><span class="line">        <span class="comment">//将i.color值显示到屏幕</span></span><br><span class="line">        <span class="keyword">return</span> float4(i.color,<span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      ENDCG</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  Fallback <span class="string">&quot;VertexLit&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="一个带可控属性的简单着色器"><a href="#一个带可控属性的简单着色器" class="headerlink" title="一个带可控属性的简单着色器"></a>一个带可控属性的简单着色器</h6><p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210925204502111.png"></p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line">Shader <span class="string">&quot;Learn_SimpleShader03&quot;</span></span><br><span class="line">&#123;</span><br><span class="line">  Properties&#123;</span><br><span class="line">    <span class="comment">//声明一个Color类型的属性</span></span><br><span class="line">    _Color(<span class="string">&quot;Diffuse Color&quot;</span>,Color)=(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1.0</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  SubShader&#123;</span><br><span class="line">    pass&#123;</span><br><span class="line">      CGPROGRAM</span><br><span class="line">      <span class="meta">#<span class="meta-keyword">pragma</span> vertex vert</span></span><br><span class="line">      <span class="meta">#<span class="meta-keyword">pragma</span> fragment frag</span></span><br><span class="line">      </span><br><span class="line">      <span class="comment">//定义一个与属性名称和类型匹配的变量</span></span><br><span class="line">      float4 _Color;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">struct</span> a2v&#123;</span><br><span class="line">        float4 vertex : POSITION;</span><br><span class="line">        float4 normal : NORMAL;</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="keyword">struct</span> v2f&#123;</span><br><span class="line">        float4 pos : SV_POSITION;</span><br><span class="line">        float3 color : COLOR0;</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">      <span class="function">v2f <span class="title">vert</span>(<span class="params">a2v v</span>)</span>&#123;</span><br><span class="line">        v2f o;</span><br><span class="line">        o.pos=UnityObjectToClipPos(v.vertex);</span><br><span class="line">        o.color=float3(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> o;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="function">float4 <span class="title">frag</span>(<span class="params">v2f i</span>) : SV_TARGET</span>&#123;</span><br><span class="line">        float3 c = i.color;</span><br><span class="line">        c *= _Color.rgb;</span><br><span class="line">        <span class="keyword">return</span> float4(c,<span class="number">1.0</span>);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      ENDCG</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  Fallback <span class="string">&quot;VertexLit&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="漫反射（diffuse"><a href="#漫反射（diffuse" class="headerlink" title="漫反射（diffuse)"></a>漫反射（diffuse)</h1><p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210925232615420.png" alt="漫反射计算公式"></p>
<p>C<del>light</del> ———入射光线的颜色和强度<br>M<del>diffuse</del> ——材质的漫反射系数<br>n ————–表面法线<br>I —————光源方向</p>
<h2 id="逐顶点漫反射光照"><a href="#逐顶点漫反射光照" class="headerlink" title="逐顶点漫反射光照"></a>逐顶点漫反射光照</h2><p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210927205530216.png"></p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line">Shader <span class="string">&quot;Custom/Learn02_DiffuseVertex&quot;</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">  properties&#123;</span><br><span class="line">    _DiffuseColor(<span class="string">&quot;Diffuse Color&quot;</span>,Color)=(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  SubShader&#123;</span><br><span class="line">    Pass&#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">//定义了LightMode才能得到一些Unity的内置光照变量 </span></span><br><span class="line">      Tags&#123;<span class="string">&quot;LightMode&quot;</span>=<span class="string">&quot;ForwardBase&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">      CGPROGRAM</span><br><span class="line">      <span class="meta">#<span class="meta-keyword">pragma</span> vertex vert</span></span><br><span class="line">      <span class="meta">#<span class="meta-keyword">pragma</span> fragment frag</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//引用Unity内置文件</span></span><br><span class="line">      <span class="meta">#include &quot;Lighting.cginc&quot;</span></span><br><span class="line"></span><br><span class="line">      fixed3 _DiffuseColor;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">struct</span> a2v&#123;</span><br><span class="line">        <span class="comment">//获取模型空间下的顶点坐标</span></span><br><span class="line">        float4 vertex : POSITION;</span><br><span class="line">        <span class="comment">//获取模型空间下的顶点法线</span></span><br><span class="line">        float3 normal : NORMAL;</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="keyword">struct</span> v2f&#123;</span><br><span class="line">        float4 pos : SV_POSITION;</span><br><span class="line">        fixed3 diffuseColor : COlOR0;</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">      <span class="function">v2f <span class="title">vert</span>(<span class="params">a2v v</span>)</span>&#123;</span><br><span class="line">        v2f o;</span><br><span class="line">        <span class="comment">//把顶点位置从模型空间转换到裁剪空间中</span></span><br><span class="line">        o.pos = UnityObjectToClipPos(v.vertex);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取平行光的颜色</span></span><br><span class="line">        fixed3 ambient = _LightColor0.rgb;</span><br><span class="line">        <span class="comment">//取得世界空间下的光方向</span></span><br><span class="line">        fixed3 worldLight = normalize(_WorldSpaceLightPos0.xyz);</span><br><span class="line">        <span class="comment">//将在模型空间取得的模型法线转换到世界空间</span></span><br><span class="line">        fixed3 normalDir = normalize(mul((float3x3)unity_ObjectToWorld,v.normal));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 根据公式输出结果</span></span><br><span class="line">        o.diffuseColor = (ambient * _DiffuseColor.xyz) * saturate(dot(normalDir,worldLight));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> o;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="function">fixed4 <span class="title">frag</span>(<span class="params">v2f i</span>) : SV_TARGET</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> float4(i.diffuseColor,<span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      ENDCG</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  Fallback <span class="string">&quot;Diffuse&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对于一些细分程度低的模型，逐顶点光照会出现视觉问题，如悲观面和向光面交界处有锯齿。</p>
<h2 id="逐像素漫反射光照"><a href="#逐像素漫反射光照" class="headerlink" title="逐像素漫反射光照"></a>逐像素漫反射光照</h2><p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210928221609460.png" alt="逐顶点和逐像素对比"></p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line">Shader <span class="string">&quot;Custom/Learn02_DiffusePixel&quot;</span></span><br><span class="line">&#123; </span><br><span class="line">  properties&#123;</span><br><span class="line">    _DiffuseColor(<span class="string">&quot;Diffuse Color&quot;</span>,Color) = (<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  SubShader&#123;</span><br><span class="line">    Pass&#123;</span><br><span class="line">      Tags&#123;<span class="string">&quot;LightMode&quot;</span>=<span class="string">&quot;ForwardBase&quot;</span>&#125;</span><br><span class="line">      CGPROGRAM</span><br><span class="line"></span><br><span class="line">      <span class="meta">#<span class="meta-keyword">pragma</span> vertex vert</span></span><br><span class="line">      <span class="meta">#<span class="meta-keyword">pragma</span> fragment frag</span></span><br><span class="line">      <span class="meta">#include &quot;Lighting.cginc&quot;</span></span><br><span class="line"></span><br><span class="line">      fixed3 _DiffuseColor;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">struct</span> a2v&#123;</span><br><span class="line">        float4 vertex : POSITION;</span><br><span class="line">        fixed3 normal : NORMAL;</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="keyword">struct</span> v2f&#123;</span><br><span class="line">        float4 pos : SV_POSITION;</span><br><span class="line">        fixed3 normalDir : COLOR0;</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="function">v2f <span class="title">vert</span>(<span class="params">a2v v</span>)</span>&#123;</span><br><span class="line">        v2f o;</span><br><span class="line">        o.pos = UnityObjectToClipPos(v.vertex);</span><br><span class="line">        o.normalDir = normalize(mul((float3x3)unity_ObjectToWorld,v.normal));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> o;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="function">fixed4 <span class="title">frag</span>(<span class="params">v2f i</span>) : SV_TARGET</span>&#123;</span><br><span class="line"></span><br><span class="line">        fixed3 ambient = _LightColor0.rgb;</span><br><span class="line">        fixed3 worldLightPos = normalize(_WorldSpaceLightPos0.xyz);</span><br><span class="line">        fixed3 diffuseColor = (ambient * _DiffuseColor) * saturate(dot(worldLightPos,i.normalDir));</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> fixed4(diffuseColor,<span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      ENDCG</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  Fallback <span class="string">&quot;Diffuse&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="兰伯特模型（Half-Lambert）"><a href="#兰伯特模型（Half-Lambert）" class="headerlink" title="兰伯特模型（Half Lambert）"></a>兰伯特模型（Half Lambert）</h2><p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210928232634446.png"></p>
<p>以上的漫反射光照模型也被称为兰伯特光照模型，因为它符合兰伯特定律——在平面某点漫反射光的光强与该反射点的法向量和入射光角度的余弦值成正比。</p>
<p>广义的半兰伯特光照模型公式如下：</p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210928225046717.png" alt="HalfLambert"></p>
<p>和原兰伯特模型相比，半兰伯特光照模型没有使用max来操作防止 n , I 的点积为负值。<br>而是对其结果进行了一个α缩放和β大小的偏移。<br>通过这样，可以将dot(n , I)的结果范围从[-1,1]映射到[0,1]。</p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210928225542735.png" alt="半兰伯特计算公式"></p>
<p>C<del>light</del> ———入射光线的颜色和强度<br>M<del>diffuse</del> ——材质的漫反射系数<br>n ————–表面法线<br>I —————光源方向</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line">fixed3 diffuseColor = (ambient * _DiffuseColor) * (<span class="number">0.5</span> * dot(worldLightPos,i.normalDir) + <span class="number">0.5</span>);</span><br></pre></td></tr></table></figure>


<h1 id="高光反射（Specular）"><a href="#高光反射（Specular）" class="headerlink" title="高光反射（Specular）"></a>高光反射（Specular）</h1><p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210928233552940.png" alt="高光反射计算公式"></p>
<p>C<del>light</del> ———入射光线的颜色和强度<br>M<del>specular</del> —-材质的高光反射系数<br>v ————–视角方向<br>r ————–反射方向</p>
<p>反射方向 r 可以由表面法线 n 和光源方向 I 计算所得：</p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210928234136364.png" alt="反射方向计算"></p>
<p>CG也提供了计算反射方向的函数</p>
<table>
<thead>
<tr>
<th align="left">reflect(i , n)</th>
<th align="left">i —–光源入射方向<br />n —-法线方向<br /></th>
<th align="left">当给定入射方向和法线方向时，<br />reflect函数可以返回反射方向</th>
</tr>
</thead>
</table>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210928234548629.png" alt="reflect函数"></p>
<h2 id="逐顶点反射"><a href="#逐顶点反射" class="headerlink" title="逐顶点反射"></a>逐顶点反射</h2><figure class="highlight c#"><table><tr><td class="code"><pre><span class="line">Shader <span class="string">&quot;Learn02_SpecularVertex&quot;</span></span><br><span class="line">&#123;</span><br><span class="line">  properties&#123;</span><br><span class="line">    _DiffuseColor(<span class="string">&quot;DiffuseColor&quot;</span>,Color) = (<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">    _Specular(<span class="string">&quot;Specular&quot;</span>,Color) = (<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">    _Gloss(<span class="string">&quot;Gloss&quot;</span>,Range(<span class="number">8</span>,<span class="number">256</span>)) = <span class="number">50</span></span><br><span class="line">  &#125;</span><br><span class="line">  SubShader&#123;</span><br><span class="line">    Pass&#123;</span><br><span class="line">      Tags&#123;<span class="string">&quot;LightMode&quot;</span> = <span class="string">&quot;ForwardBase&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">      CGPROGRAM</span><br><span class="line">      <span class="meta">#<span class="meta-keyword">pragma</span> vertex vert</span></span><br><span class="line">      <span class="meta">#<span class="meta-keyword">pragma</span> fragment frag</span></span><br><span class="line">      <span class="meta">#include &quot;Lighting.cginc&quot;</span></span><br><span class="line"></span><br><span class="line">      fixed3 _DiffuseColor;</span><br><span class="line">      fixed3 _Specular;</span><br><span class="line">      <span class="built_in">float</span> _Gloss;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">struct</span> a2v&#123;</span><br><span class="line">        float4 vertex : POSITION;</span><br><span class="line">        fixed3 normal : NORMAL;</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="keyword">struct</span> v2f&#123;</span><br><span class="line">        float4 pos : SV_POSITION;</span><br><span class="line">        float3 color : COLOR0;</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">      <span class="function">v2f <span class="title">vert</span>(<span class="params">a2v v</span>)</span>&#123;</span><br><span class="line">        v2f o;</span><br><span class="line">        o.pos =UnityObjectToClipPos(v.vertex);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//平行光颜色</span></span><br><span class="line">        fixed3 ambient = _LightColor0.rgb;</span><br><span class="line">        <span class="comment">//光源方向</span></span><br><span class="line">        fixed3 worldLightPos = normalize(_WorldSpaceLightPos0.xyz);</span><br><span class="line">        <span class="comment">//将顶点法线转换到世界空间</span></span><br><span class="line">        fixed3 normalDir = normalize(mul((float3x3)unity_ObjectToWorld,v.normal));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//漫反射</span></span><br><span class="line">        fixed3 diffuseColor = (ambient * _DiffuseColor) * (<span class="number">0.5</span> + <span class="number">0.5</span> * dot(worldLightPos,normalDir));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//计算反射方向</span></span><br><span class="line">        <span class="comment">//reflect 函数的入射方向是由光源指向交点，所以参数要取负</span></span><br><span class="line">        fixed3 reflectDir = normalize(reflect(-worldLightPos,normalDir));</span><br><span class="line">        <span class="comment">//计算视角方向</span></span><br><span class="line">        fixed3 viewDir = normalize(_WorldSpaceCameraPos.xyz - mul(unity_ObjectToWorld,v.vertex).xyz);</span><br><span class="line">        <span class="comment">//高光</span></span><br><span class="line">        fixed3 specularColor = (ambient *_Specular) * pow(saturate(dot(viewDir,reflectDir)),_Gloss);</span><br><span class="line"></span><br><span class="line">        o.color = specularColor + diffuseColor;</span><br><span class="line">        <span class="keyword">return</span> o;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="function">fixed4 <span class="title">frag</span>(<span class="params">v2f i</span>) : SV_TARGET</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> fixed4(i.color,<span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      ENDCG</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  Fallback <span class="string">&quot;Diffuse&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="逐像素反射"><a href="#逐像素反射" class="headerlink" title="逐像素反射"></a>逐像素反射</h2><figure class="highlight c#"><table><tr><td class="code"><pre><span class="line">Shader <span class="string">&quot;Custom/Learn02_SpecularPixel&quot;</span></span><br><span class="line">&#123;</span><br><span class="line">  properties&#123;</span><br><span class="line">    _DiffuseColor(<span class="string">&quot;DiffuseColor&quot;</span>,Color) = (<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">    _Specular(<span class="string">&quot;Specular&quot;</span>,Color) = (<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">    _Gloss(<span class="string">&quot;Gloss&quot;</span>,Range(<span class="number">8</span>,<span class="number">256</span>)) = <span class="number">50</span></span><br><span class="line">  &#125;</span><br><span class="line">  SubShader&#123;</span><br><span class="line">    Pass&#123;</span><br><span class="line">      Tags&#123;<span class="string">&quot;LightMode&quot;</span> = <span class="string">&quot;ForwardBase&quot;</span>&#125;</span><br><span class="line">      CGPROGRAM</span><br><span class="line">      <span class="meta">#<span class="meta-keyword">pragma</span> vertex vert</span></span><br><span class="line">      <span class="meta">#<span class="meta-keyword">pragma</span> fragment frag</span></span><br><span class="line">      <span class="meta">#include &quot;Lighting.cginc&quot;</span></span><br><span class="line"></span><br><span class="line">      fixed3 _DiffuseColor;</span><br><span class="line">      fixed3 _Specular;</span><br><span class="line">      <span class="built_in">float</span> _Gloss;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">struct</span> a2v&#123;</span><br><span class="line">        float4 vertex : POSITION;</span><br><span class="line">        fixed3 normal : NORMAL;</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="keyword">struct</span> v2f&#123;</span><br><span class="line">        float4 pos : SV_POSITION;</span><br><span class="line">        fixed3 worldNormal : COLOR0;</span><br><span class="line">        fixed3 worldPos : COLOR1;</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">      <span class="function">v2f <span class="title">vert</span>(<span class="params">a2v v</span>)</span>&#123;</span><br><span class="line">        v2f o;</span><br><span class="line">        o.pos = UnityObjectToClipPos(v.vertex);</span><br><span class="line">        o.worldNormal = normalize(mul((float3x3)unity_ObjectToWorld,v.normal));</span><br><span class="line">        o.worldPos = mul(unity_ObjectToWorld,v.vertex).xyz;</span><br><span class="line">        <span class="keyword">return</span> o;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="function">fixed4 <span class="title">frag</span>(<span class="params">v2f i</span>) : SV_TARGET</span>&#123;</span><br><span class="line">        fixed3 ambient = _LightColor0.rgb;</span><br><span class="line">        fixed3 worldLightPos = normalize(_WorldSpaceLightPos0.xyz);</span><br><span class="line"></span><br><span class="line">        fixed3 diffuseColor = (ambient * _DiffuseColor) * (<span class="number">0.5</span> + <span class="number">0.5</span> * dot(worldLightPos,i.worldNormal));</span><br><span class="line">        </span><br><span class="line">        fixed3 viewDir = normalize(_WorldSpaceCameraPos.xyz - i.worldNormal.xyz);</span><br><span class="line">        fixed3 reflectDir = normalize(reflect(-worldLightPos,i.worldNormal));</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        fixed3 specularColor = (ambient * _Specular) * pow(saturate(dot(viewDir,reflectDir)),_Gloss);</span><br><span class="line"></span><br><span class="line">        fixed3 color = diffuseColor + specularColor;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> fixed4(color,<span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      ENDCG</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Blinn-Phong"><a href="#Blinn-Phong" class="headerlink" title="Blinn-Phong"></a>Blinn-Phong</h2><figure class="highlight c#"><table><tr><td class="code"><pre><span class="line">Shader <span class="string">&quot;Custom/Learn02_SpecularBlinn&quot;</span></span><br><span class="line">&#123;</span><br><span class="line">  Properties&#123;</span><br><span class="line">    _DiffuseColor(<span class="string">&quot;DiffuseColor&quot;</span>,Color) = (<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">    _Specular(<span class="string">&quot;Speculaar&quot;</span>,Color) = (<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">    _Gloss(<span class="string">&quot;Gloss&quot;</span>,Range(<span class="number">8</span>,<span class="number">256</span>)) = <span class="number">8</span></span><br><span class="line">  &#125;</span><br><span class="line">  SubShader&#123;</span><br><span class="line">    Pass&#123;</span><br><span class="line">      Tags&#123;<span class="string">&quot;LightMode&quot;</span> = <span class="string">&quot;ForwardBase&quot;</span>&#125;</span><br><span class="line">      CGPROGRAM</span><br><span class="line">      <span class="meta">#<span class="meta-keyword">pragma</span> vertex vert</span></span><br><span class="line">      <span class="meta">#<span class="meta-keyword">pragma</span> fragment frag</span></span><br><span class="line">      <span class="meta">#include &quot;Lighting.cginc&quot;</span></span><br><span class="line"></span><br><span class="line">      fixed3 _DiffuseColor;</span><br><span class="line">      fixed3 _Specular;</span><br><span class="line">      <span class="built_in">float</span> _Gloss;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">struct</span> a2v&#123;</span><br><span class="line">        float4 vertex : POSITION;</span><br><span class="line">        fixed3 normal : NORMAL;</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="keyword">struct</span> v2f&#123;</span><br><span class="line">        float4 pos : SV_POSITION;</span><br><span class="line">        fixed3 worldNormal : COLOR0;</span><br><span class="line">        fixed3 worldVertex : COLOR1;</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">      <span class="function">v2f <span class="title">vert</span>(<span class="params">a2v v</span>)</span>&#123;</span><br><span class="line">        v2f o;</span><br><span class="line">        o.pos = UnityObjectToClipPos(v.vertex);</span><br><span class="line">        o.worldNormal = mul((float3x3)unity_ObjectToWorld,v.normal);</span><br><span class="line">        o.worldVertex = mul(unity_ObjectToWorld,v.vertex);</span><br><span class="line">        <span class="keyword">return</span> o;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="function">fixed4 <span class="title">frag</span>(<span class="params">v2f i</span>) : SV_TARGET</span>&#123;</span><br><span class="line">        fixed3 ambient = _LightColor0.rgb;</span><br><span class="line">        fixed3 normalDir = normalize(i.worldNormal);</span><br><span class="line">        fixed3 lightDir = normalize(_WorldSpaceLightPos0.xyz);</span><br><span class="line">        fixed3 diffuseColor = (ambient * _DiffuseColor) * (<span class="number">0.5</span> + <span class="number">0.5</span> * dot(normalDir,lightDir));</span><br><span class="line"></span><br><span class="line">        fixed3 viewDir = normalize(_WorldSpaceCameraPos.xyz - i.worldVertex.xyz);</span><br><span class="line">        fixed3 halfDir = normalize(viewDir + lightDir);</span><br><span class="line">        fixed3 specularColor = (ambient * _Specular) * pow(max(<span class="number">0</span>,dot(normalDir,halfDir)),_Gloss);</span><br><span class="line">        fixed3 color = specularColor;</span><br><span class="line">        <span class="keyword">return</span> fixed4(color,<span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      ENDCG</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Unity</category>
      </categories>
      <tags>
        <tag>Shader</tag>
        <tag>TA</tag>
      </tags>
  </entry>
  <entry>
    <title>PHP期末作业</title>
    <url>/2021/06/23/%E5%AD%A6%E6%A0%A1%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95-2021-06-26-PHP%E6%9C%9F%E6%9C%AB%E4%BD%9C%E4%B8%9A/</url>
    <content><![CDATA[<blockquote>
<p>是个PHP的期末作业</p>
<ul>
<li>登陆注册</li>
<li>学生教师端</li>
<li>增删查改</li>
</ul>
</blockquote>
<h1 id="引入header和Footer"><a href="#引入header和Footer" class="headerlink" title="引入header和Footer"></a>引入header和Footer</h1><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">include</span>(<span class="string">&#x27;Menu/header.php&#x27;</span>);</span><br><span class="line"><span class="keyword">include</span>(<span class="string">&#x27;Menu/footer.php&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h1 id="注册登录系统"><a href="#注册登录系统" class="headerlink" title="注册登录系统"></a>注册登录系统</h1><h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h2><h3 id="创建注册表"><a href="#创建注册表" class="headerlink" title="创建注册表"></a>创建注册表</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE TABLE &#96;register&#96; (</span><br><span class="line">  &#96;userId&#96; int(20) NOT NULL AUTO_INCREMENT COMMENT &#39;用户id&#39;,</span><br><span class="line">  &#96;userName&#96; varchar(60) NOT NULL COMMENT &#39;用户名&#39;,</span><br><span class="line">  &#96;passWord&#96; varchar(60) NOT NULL COMMENT &#39;用户密码&#39;,</span><br><span class="line">  &#96;passWordConfirm&#96; varchar(60) NOT NULL COMMENT &#39;确认密码&#39;,</span><br><span class="line">  PRIMARY KEY (&#96;userId&#96;)</span><br><span class="line">) ENGINE&#x3D;MyISAM AUTO_INCREMENT&#x3D;5 DEFAULT CHARSET&#x3D;utf8</span><br></pre></td></tr></table></figure>
<h3 id="数据库连接"><a href="#数据库连接" class="headerlink" title="数据库连接"></a>数据库连接</h3><h4 id="连接库"><a href="#连接库" class="headerlink" title="连接库"></a>连接库</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$con</span>=<span class="keyword">new</span> mysqli(<span class="string">&quot;localhost&quot;</span>,<span class="string">&quot;root&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="string">&quot;user&quot;</span>,<span class="string">&quot;3306&quot;</span>);</span><br></pre></td></tr></table></figure>
<h4 id="测试连接"><a href="#测试连接" class="headerlink" title="测试连接"></a>测试连接</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="variable">$getCon</span>-&gt;connect_error) &#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">&quot;连接失败:&quot;</span>.<span class="variable">$getCon</span>-&gt;connect_error);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="解决乱码"><a href="#解决乱码" class="headerlink" title="解决乱码"></a>解决乱码</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">mysqli_query(<span class="variable">$getCon</span>,<span class="string">&quot;set names utf8&quot;</span>);</span><br></pre></td></tr></table></figure>
<h2 id="登录"><a href="#登录" class="headerlink" title="登录"></a>登录</h2><h3 id="获取表单数据"><a href="#获取表单数据" class="headerlink" title="获取表单数据"></a>获取表单数据</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$userName</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;userName&#x27;</span>];</span><br><span class="line"><span class="variable">$passWord</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;passWord&#x27;</span>];</span><br></pre></td></tr></table></figure>
<h3 id="从数据库获取数据"><a href="#从数据库获取数据" class="headerlink" title="从数据库获取数据"></a>从数据库获取数据</h3><h4 id="数据查询语句"><a href="#数据查询语句" class="headerlink" title="数据查询语句"></a>数据查询语句</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$selData</span>=<span class="string">&quot;select userName from <span class="subst">$tableNam</span> </span></span><br><span class="line"><span class="string">where userName=&#x27;<span class="subst">$userName</span>&#x27; and passWord=&#x27;<span class="subst">$passWord</span>&#x27;;&quot;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="判断账号密码"><a href="#判断账号密码" class="headerlink" title="判断账号密码"></a>判断账号密码</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$que</span>=mysqli_query(<span class="variable">$getCon</span>,<span class="variable">$selData</span>);</span><br><span class="line"><span class="variable">$res</span>=mysqli_fetch_row(<span class="variable">$que</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$res</span>)&#123;</span><br><span class="line">	<span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;</span></span><br><span class="line"><span class="string">		alert(&#x27;<span class="subst">$userName</span> 登入成功&#x27;);</span></span><br><span class="line"><span class="string">		self.location=&#x27;../index.php&#x27;;</span></span><br><span class="line"><span class="string">	&lt;/script&gt;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">	<span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;</span></span><br><span class="line"><span class="string">		alert(&#x27;账号或密码错误,重新输入&#x27;);</span></span><br><span class="line"><span class="string">	&lt;/script&gt;&quot;</span>;		</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="注册"><a href="#注册" class="headerlink" title="注册"></a>注册</h2><h3 id="获取表单数据-1"><a href="#获取表单数据-1" class="headerlink" title="获取表单数据"></a>获取表单数据</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$userName</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;userName&#x27;</span>];</span><br><span class="line"><span class="variable">$passWord</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;passWord&#x27;</span>];</span><br><span class="line"><span class="variable">$passWordConfirm</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;passWordConfirm&#x27;</span>];</span><br></pre></td></tr></table></figure>
<h3 id="上传数据到数据库"><a href="#上传数据到数据库" class="headerlink" title="上传数据到数据库"></a>上传数据到数据库</h3><h4 id="数据添加语句"><a href="#数据添加语句" class="headerlink" title="数据添加语句"></a>数据添加语句</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$insertData</span>=<span class="string">&quot;insert into register(userName,passWord,passWordConfirm)</span></span><br><span class="line"><span class="string">					value(&#x27;<span class="subst">$userName</span>&#x27;,&#x27;<span class="subst">$passWord</span>&#x27;,&#x27;<span class="subst">$passWordConfirm</span>&#x27;);&quot;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="判断用户名占用"><a href="#判断用户名占用" class="headerlink" title="判断用户名占用"></a>判断用户名占用</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$sel</span>=<span class="string">&quot;select userName from <span class="subst">$tableNam</span> where userName = &#x27;<span class="subst">$userName</span>&#x27;;&quot;</span>;</span><br><span class="line"><span class="variable">$que</span>=mysqli_query(<span class="variable">$getCon</span>,<span class="variable">$sel</span>);</span><br><span class="line"><span class="variable">$pal</span>=mysqli_fetch_row(<span class="variable">$que</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$pal</span>)&#123;</span><br><span class="line">	<span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;</span></span><br><span class="line"><span class="string">		alert(&#x27;注册失败,用户<span class="subst">$userName</span> 已被占用&#x27;);</span></span><br><span class="line"><span class="string">	&lt;/script&gt;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="执行上传数据库"><a href="#执行上传数据库" class="headerlink" title="执行上传数据库"></a>执行上传数据库</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="variable">$getCon</span>-&gt;query(<span class="variable">$insertData</span>))&#123;</span><br><span class="line">	<span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;</span></span><br><span class="line"><span class="string">		alert(&#x27;注册成功&#x27;);</span></span><br><span class="line"><span class="string">		self.location=&#x27;./login.php&#x27;;</span></span><br><span class="line"><span class="string">	&lt;/script&gt;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">	<span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;alert(&#x27;注册失败&#x27;)&lt;/script&gt;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="选课系统"><a href="#选课系统" class="headerlink" title="选课系统"></a>选课系统</h1><h2 id="数据库-1"><a href="#数据库-1" class="headerlink" title="数据库"></a>数据库</h2><h3 id="导入数据库"><a href="#导入数据库" class="headerlink" title="导入数据库"></a>导入数据库</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">source S:\Wamp\www\xk.sql</span><br></pre></td></tr></table></figure>
<h3 id="连接数据库"><a href="#连接数据库" class="headerlink" title="连接数据库"></a>连接数据库</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$con</span>=<span class="keyword">new</span> mysqli(<span class="string">&quot;localhost&quot;</span>,<span class="string">&quot;root&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="string">&quot;management&quot;</span>,<span class="string">&quot;3306&quot;</span>);</span><br></pre></td></tr></table></figure>
<h4 id="测试连接-1"><a href="#测试连接-1" class="headerlink" title="测试连接"></a>测试连接</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="variable">$getCon</span>-&gt;connect_error) &#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">&quot;连接失败:&quot;</span>.<span class="variable">$getCon</span>-&gt;connect_error);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="解决乱码-1"><a href="#解决乱码-1" class="headerlink" title="解决乱码"></a>解决乱码</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">mysqli_query(<span class="variable">$getCon</span>,<span class="string">&quot;set names utf8&quot;</span>);</span><br></pre></td></tr></table></figure>
<h2 id="学生端"><a href="#学生端" class="headerlink" title="学生端"></a>学生端</h2><h3 id="课程预览"><a href="#课程预览" class="headerlink" title="课程预览"></a>课程预览</h3><h3 id="学生信息"><a href="#学生信息" class="headerlink" title="学生信息"></a>学生信息</h3><h3 id="学生选课"><a href="#学生选课" class="headerlink" title="学生选课"></a>学生选课</h3><h4 id="所有课程输出"><a href="#所有课程输出" class="headerlink" title="所有课程输出"></a>所有课程输出</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$selAllCou</span>=<span class="string">&quot;SELECT CouName,Kind,Teacher,SchoolTime,CouNo</span></span><br><span class="line"><span class="string">					FROM course;</span></span><br><span class="line"><span class="string">					&quot;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="查看已选课程"><a href="#查看已选课程" class="headerlink" title="查看已选课程"></a>查看已选课程</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$selCoued</span>=<span class="string">&quot;SELECT c.CouName,c.Kind,c.Teacher,c.SchoolTime,c.CouNo</span></span><br><span class="line"><span class="string">		FROM student s,course c,stucou sc</span></span><br><span class="line"><span class="string">		WHERE s.StuNo=sc.StuNo AND c.CouNo=sc.CouNo AND s.StuNo=&#x27;<span class="subst">$StuNo</span>&#x27;</span></span><br><span class="line"><span class="string">		GROUP BY c.CouName;</span></span><br><span class="line"><span class="string">		&quot;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="查看未选课程"><a href="#查看未选课程" class="headerlink" title="查看未选课程"></a>查看未选课程</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$selCouNo</span>=<span class="string">&quot;SELECT c.CouName,c.Kind,c.Teacher,c.SchoolTime,c.CouNo</span></span><br><span class="line"><span class="string">		FROM student s,course c,stucou sc</span></span><br><span class="line"><span class="string">		WHERE s.StuNo=sc.StuNo AND c.CouNo!=sc.CouNo AND s.StuNo=&#x27;<span class="subst">$StuNo</span>&#x27;</span></span><br><span class="line"><span class="string">		GROUP BY c.CouName;</span></span><br><span class="line"><span class="string">		&quot;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="执行"><a href="#执行" class="headerlink" title="执行"></a>执行</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$resSelEd</span>=mysqli_query(<span class="variable">$getCon</span>,<span class="variable">$selCoued</span>);</span><br><span class="line"><span class="variable">$resSelNo</span>=mysqli_query(<span class="variable">$getCon</span>,<span class="variable">$selCouNo</span>);</span><br></pre></td></tr></table></figure>
<h4 id="循环执行"><a href="#循环执行" class="headerlink" title="循环执行"></a>循环执行</h4><h5 id="输出已选部分"><a href="#输出已选部分" class="headerlink" title="输出已选部分"></a>输出已选部分</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span>(<span class="variable">$row</span>=mysqli_fetch_array(<span class="variable">$resSelEd</span>))&#123;</span><br><span class="line">	<span class="keyword">echo</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">		&lt;tr class=\&quot;showCouCen\&quot;&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;CouName&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;Kind&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;Teacher&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;SchoolTime&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;&lt;input type=&#x27;checkbox&#x27; value=&#x27;<span class="subst">&#123;$row[&#x27;CouNo&#x27;]&#125;</span>&#x27; name=&#x27;chebox[]&#x27; checked=&#x27;checked&#x27; onclick=&#x27;che(this)&#x27;&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="string">		&lt;/tr&gt;</span></span><br><span class="line"><span class="string">	&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="输出未选部分"><a href="#输出未选部分" class="headerlink" title="输出未选部分"></a>输出未选部分</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span>(<span class="variable">$row</span>=mysqli_fetch_array(<span class="variable">$resSelNo</span>))&#123;</span><br><span class="line">	<span class="keyword">echo</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">		&lt;tr class=\&quot;showCouCen\&quot;&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;CouName&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;Kind&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;Teacher&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;SchoolTime&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;&lt;input type=&#x27;checkbox&#x27; value=&#x27;<span class="subst">&#123;$row[&#x27;CouNo&#x27;]&#125;</span>&#x27; name=&#x27;chebox[]&#x27; onclick=&#x27;che(this)&#x27;&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="string">		&lt;/tr&gt;</span></span><br><span class="line"><span class="string">	&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="选课条件"><a href="#选课条件" class="headerlink" title="选课条件"></a>选课条件</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;</span></span><br><span class="line"><span class="string">	var st=0,max=5 - <span class="subst">$StuSum</span>;</span></span><br><span class="line"><span class="string">	function che(obj)&#123;</span></span><br><span class="line"><span class="string">		obj.checked?st++:st--;</span></span><br><span class="line"><span class="string">		if(st&gt;max)&#123;</span></span><br><span class="line"><span class="string">			obj.checked=false;</span></span><br><span class="line"><span class="string">			alert(&#x27;只能选五门&#x27;);</span></span><br><span class="line"><span class="string">			st--;</span></span><br><span class="line"><span class="string">		&#125;</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string">&lt;/script&gt;&quot;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="修改选课"><a href="#修改选课" class="headerlink" title="修改选课"></a>修改选课</h4><h5 id="删除学生选课"><a href="#删除学生选课" class="headerlink" title="删除学生选课"></a>删除学生选课</h5><h6 id="删除选课"><a href="#删除选课" class="headerlink" title="删除选课"></a>删除选课</h6><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$delCou</span>=<span class="string">&quot;DELETE FROM stucou</span></span><br><span class="line"><span class="string">		WHERE StuNo=&#x27;<span class="subst">$StuNo</span>&#x27;;</span></span><br><span class="line"><span class="string">		&quot;</span>;</span><br></pre></td></tr></table></figure>
<h6 id="执行-1"><a href="#执行-1" class="headerlink" title="执行"></a>执行</h6><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">mysqli_query(<span class="variable">$getCon</span>,<span class="variable">$delCou</span>);</span><br></pre></td></tr></table></figure>
<h5 id="更新选课"><a href="#更新选课" class="headerlink" title="更新选课"></a>更新选课</h5><h6 id="获取已选课数"><a href="#获取已选课数" class="headerlink" title="获取已选课数"></a>获取已选课数</h6><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$sum</span>=count(<span class="variable">$chebox</span>);</span><br></pre></td></tr></table></figure>
<h6 id="更新数据库"><a href="#更新数据库" class="headerlink" title="更新数据库"></a>更新数据库</h6><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="variable">$i</span>=<span class="number">0</span>;<span class="variable">$i</span>&lt;<span class="variable">$sum</span>;<span class="variable">$i</span>+=<span class="number">1</span>)&#123;</span><br><span class="line">	<span class="variable">$ChoCou</span>=<span class="string">&quot;INSERT INTO stucou(StuNo,CouNo,WillOrder,state)</span></span><br><span class="line"><span class="string">			VALUE(&#x27;<span class="subst">$StuNo</span>&#x27;,&#x27;<span class="subst">$chebox</span>[<span class="subst">$i</span>]&#x27;,<span class="subst">$i</span>,&#x27;报名&#x27;);</span></span><br><span class="line"><span class="string">	&quot;</span>;</span><br><span class="line">	mysqli_query(<span class="variable">$getCon</span>,<span class="variable">$ChoCou</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="教师端"><a href="#教师端" class="headerlink" title="教师端"></a>教师端</h2><h3 id="浏览课程"><a href="#浏览课程" class="headerlink" title="浏览课程"></a>浏览课程</h3><h4 id="查询语句"><a href="#查询语句" class="headerlink" title="查询语句"></a>查询语句</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$selCourse</span>=<span class="string">&quot;select*from course&quot;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="执行语句"><a href="#执行语句" class="headerlink" title="执行语句"></a>执行语句</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$resSel</span>=mysqli_query(<span class="variable">$getCon</span>,<span class="variable">$selCourse</span>);</span><br></pre></td></tr></table></figure>
<h4 id="循环执行-1"><a href="#循环执行-1" class="headerlink" title="循环执行"></a>循环执行</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span>(<span class="variable">$row</span>=mysqli_fetch_array(<span class="variable">$resSel</span>))&#123;</span><br><span class="line">	<span class="keyword">echo</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">		&lt;tr class=\&quot;showCouCen\&quot;&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;CouNo&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;CouName&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;Kind&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;Credit&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;Teacher&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;DepartNo&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;SchoolTime&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;LimitNum&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;WillNum&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;ChooseNum&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">		&lt;/tr&gt;</span></span><br><span class="line"><span class="string">		&quot;</span>;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<h3 id="增加课程"><a href="#增加课程" class="headerlink" title="增加课程"></a>增加课程</h3><h4 id="获取插入数据"><a href="#获取插入数据" class="headerlink" title="获取插入数据"></a>获取插入数据</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$CouNo</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;CouNo&#x27;</span>];</span><br><span class="line"><span class="variable">$CouName</span>==<span class="variable">$_POST</span>[<span class="string">&#x27;CouName&#x27;</span>];</span><br><span class="line"><span class="variable">$Kind</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;Kind&#x27;</span>];</span><br><span class="line"><span class="variable">$Credit</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;Credit&#x27;</span>];</span><br><span class="line"><span class="variable">$Teacher</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;Teacher&#x27;</span>];</span><br><span class="line"><span class="variable">$DepartNo</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;DepartNo&#x27;</span>];</span><br><span class="line"><span class="variable">$SchoolTime</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;SchoolTime&#x27;</span>];</span><br><span class="line"><span class="variable">$LimitNum</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;LimitNum&#x27;</span>];</span><br><span class="line"><span class="variable">$WillNum</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;WillNum&#x27;</span>];</span><br><span class="line"><span class="variable">$ChooseNum</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;ChooseNum&#x27;</span>];</span><br></pre></td></tr></table></figure>
<h4 id="插入语句"><a href="#插入语句" class="headerlink" title="插入语句"></a>插入语句</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$insCourse</span>=<span class="string">&quot;insert into course(</span></span><br><span class="line"><span class="string">CouNo,CouName,Kind,Credit,Teacher,DepartNo,SchoolTime,LimitNum,WillNum,ChooseNum</span></span><br><span class="line"><span class="string">)value(</span></span><br><span class="line"><span class="string"><span class="subst">$CouNo</span>,&#x27;<span class="subst">$CouName</span>&#x27;,&#x27;<span class="subst">$Kind</span>&#x27;,<span class="subst">$Credit</span>,&#x27;<span class="subst">$Teacher</span>&#x27;,<span class="subst">$DepartNo</span>,&#x27;<span class="subst">$SchoolTime</span>&#x27;,<span class="subst">$LimitNum</span>,<span class="subst">$WillNum</span>,<span class="subst">$ChooseNum</span></span></span><br><span class="line"><span class="string">)&quot;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="执行语句-1"><a href="#执行语句-1" class="headerlink" title="执行语句"></a>执行语句</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="variable">$getCon</span>-&gt;query(<span class="variable">$insCourse</span>))&#123;</span><br><span class="line">	<span class="keyword">echo</span> <span class="string">&quot;</span></span><br><span class="line"><span class="string">		&lt;script&gt;</span></span><br><span class="line"><span class="string">			alert(&#x27;插入成功&#x27;);</span></span><br><span class="line"><span class="string">			self.location=&#x27;../../teaCon/courseShow.php&#x27;;</span></span><br><span class="line"><span class="string">		&lt;/script&gt;</span></span><br><span class="line"><span class="string">	&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">	<span class="keyword">echo</span> <span class="string">&quot;</span></span><br><span class="line"><span class="string">		&lt;script&gt;</span></span><br><span class="line"><span class="string">			alert(&#x27;插入失败&#x27;);</span></span><br><span class="line"><span class="string">			window.history.go(-1);//返回上一级</span></span><br><span class="line"><span class="string">		&lt;/script&gt;</span></span><br><span class="line"><span class="string">	&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="修改课程"><a href="#修改课程" class="headerlink" title="修改课程"></a>修改课程</h3><h4 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$selCourseWhe</span>=<span class="string">&quot;select * from course where CouNo = <span class="subst">$CouNo</span>&quot;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="获取数据"><a href="#获取数据" class="headerlink" title="获取数据"></a>获取数据</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$CouNo</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;CouNo&#x27;</span>];</span><br><span class="line"><span class="variable">$CouName</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;CouName&#x27;</span>];</span><br><span class="line"><span class="variable">$Kind</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;Kind&#x27;</span>];</span><br><span class="line"><span class="variable">$Credit</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;Credit&#x27;</span>];</span><br><span class="line"><span class="variable">$Teacher</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;Teacher&#x27;</span>];</span><br><span class="line"><span class="variable">$DepartNo</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;DepartNo&#x27;</span>];</span><br><span class="line"><span class="variable">$SchoolTime</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;SchoolTime&#x27;</span>];</span><br><span class="line"><span class="variable">$LimitNum</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;LimitNum&#x27;</span>];</span><br><span class="line"><span class="variable">$WillNum</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;WillNum&#x27;</span>];</span><br><span class="line"><span class="variable">$ChooseNum</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;ChooseNum&#x27;</span>];</span><br></pre></td></tr></table></figure>
<h4 id="更新语句"><a href="#更新语句" class="headerlink" title="更新语句"></a>更新语句</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$updCourse</span>=<span class="string">&quot;UPDATE course SET</span></span><br><span class="line"><span class="string">	CouNo=<span class="subst">$CouNo</span>,</span></span><br><span class="line"><span class="string">	CouName=&#x27;<span class="subst">$CouName</span>&#x27;,</span></span><br><span class="line"><span class="string">	Kind=&#x27;<span class="subst">$Kind</span>&#x27;,</span></span><br><span class="line"><span class="string">	Credit=<span class="subst">$Credit</span>,</span></span><br><span class="line"><span class="string">	Teacher=&#x27;<span class="subst">$Teacher</span>&#x27;,</span></span><br><span class="line"><span class="string">	DepartNo=<span class="subst">$DepartNo</span>,</span></span><br><span class="line"><span class="string">	SchoolTime=&#x27;<span class="subst">$SchoolTime</span>&#x27;,</span></span><br><span class="line"><span class="string">	LimitNum=<span class="subst">$LimitNum</span>,</span></span><br><span class="line"><span class="string">	WillNum=<span class="subst">$WillNum</span>,</span></span><br><span class="line"><span class="string">	ChooseNum=<span class="subst">$ChooseNum</span></span></span><br><span class="line"><span class="string">WHERE CouNo=<span class="subst">$CouNo</span>;&quot;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="执行语句-2"><a href="#执行语句-2" class="headerlink" title="执行语句"></a>执行语句</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="variable">$getCon</span>-&gt;query(<span class="variable">$updCourse</span>))&#123;</span><br><span class="line">	<span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;</span></span><br><span class="line"><span class="string">		alert(&#x27;修改成功&#x27;);</span></span><br><span class="line"><span class="string">		self.location=&#x27;../../teaCon/courseUpdata.php&#x27;;</span></span><br><span class="line"><span class="string">	&lt;/script&gt;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">	<span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;</span></span><br><span class="line"><span class="string">		alert(&#x27;修改失败&#x27;);</span></span><br><span class="line"><span class="string">		window.history.go(-1);</span></span><br><span class="line"><span class="string">		&lt;/script&gt;&quot;</span>;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<h3 id="删除课程"><a href="#删除课程" class="headerlink" title="删除课程"></a>删除课程</h3><h4 id="删除语句"><a href="#删除语句" class="headerlink" title="删除语句"></a>删除语句</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$delCourse</span>=<span class="string">&quot;DELETE FROM course WHERE CouNo=<span class="subst">$CouNo</span>;&quot;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="执行语句-3"><a href="#执行语句-3" class="headerlink" title="执行语句"></a>执行语句</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="variable">$getCon</span>-&gt;query(<span class="variable">$delCourse</span>))&#123;</span><br><span class="line">		<span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;</span></span><br><span class="line"><span class="string">			alert(&#x27;删除成功&#x27;);</span></span><br><span class="line"><span class="string">			self.location=&#x27;../../teaCon/courseUpdata.php&#x27;;</span></span><br><span class="line"><span class="string">		&lt;/script&gt;&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span>&#123;</span><br><span class="line">		<span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;</span></span><br><span class="line"><span class="string">			alert(&#x27;删除失败&#x27;);</span></span><br><span class="line"><span class="string">		&lt;/script&gt;&quot;</span>;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<h3 id="搜索课程"><a href="#搜索课程" class="headerlink" title="搜索课程"></a>搜索课程</h3><h4 id="获取条件"><a href="#获取条件" class="headerlink" title="获取条件"></a>获取条件</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$Condition</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;Condition&#x27;</span>];</span><br><span class="line"><span class="variable">$Search</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;Search&#x27;</span>];</span><br></pre></td></tr></table></figure>
<h4 id="模糊搜索"><a href="#模糊搜索" class="headerlink" title="模糊搜索"></a>模糊搜索</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$selCourse</span>=<span class="string">&quot;select*from course where <span class="subst">$Condition</span> like &#x27;%<span class="subst">$Search</span>%&#x27;&quot;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="执行语句-4"><a href="#执行语句-4" class="headerlink" title="执行语句"></a>执行语句</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$resSel</span>=mysqli_query(<span class="variable">$getCon</span>,<span class="variable">$selCourse</span>);</span><br></pre></td></tr></table></figure>
<h4 id="遍历输出"><a href="#遍历输出" class="headerlink" title="遍历输出"></a>遍历输出</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span>(<span class="variable">$row</span>=mysqli_fetch_array(<span class="variable">$resSel</span>))&#123;</span><br><span class="line">	<span class="keyword">echo</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">		&lt;tr class=\&quot;showCouCen\&quot;&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;CouNo&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;CouName&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;Kind&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;Credit&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;Teacher&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;DepartNo&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;SchoolTime&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;LimitNum&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;WillNum&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">			&lt;td&gt;<span class="subst">&#123;$row[&#x27;ChooseNum&#x27;]&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">		&lt;/tr&gt;</span></span><br><span class="line"><span class="string">	&quot;</span>;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>PHP</category>
      </categories>
      <tags>
        <tag>期末作业</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo文章简单编写基础</title>
    <url>/2021/01/16/Hexo%E4%B8%8EmarkDown-2021-01-16-Hexo%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<h1 id="新建一篇文章"><a href="#新建一篇文章" class="headerlink" title="新建一篇文章"></a>新建一篇文章</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new [layout] &lt;title&gt;</span><br><span class="line">hexo n [layout] &lt;title&gt;</span><br></pre></td></tr></table></figure>
<h1 id="文章属性编辑"><a href="#文章属性编辑" class="headerlink" title="文章属性编辑"></a>文章属性编辑</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: </span><br><span class="line">date: </span><br><span class="line">urlname:                  <span class="comment">#自定义文章URL</span></span><br><span class="line">categories:</span><br><span class="line">	- 分类1</span><br><span class="line">	- 分类2</span><br><span class="line">tags: </span><br><span class="line">	- 标签1</span><br><span class="line">	- 标签2</span><br><span class="line">thumbnail:                <span class="comment">#文章预览图</span></span><br><span class="line">comments: <span class="literal">true</span>            <span class="comment">#评论系统</span></span><br><span class="line">toc: <span class="literal">true</span>                 <span class="comment">#目录</span></span><br><span class="line">mathjax: <span class="literal">true</span>             <span class="comment">#公式渲染</span></span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<h1 id="文章内容写法"><a href="#文章内容写法" class="headerlink" title="文章内容写法"></a>文章内容写法</h1><h2 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h2><h3 id="三级标题"><a href="#三级标题" class="headerlink" title="三级标题"></a>三级标题</h3><h4 id="四级标题"><a href="#四级标题" class="headerlink" title="四级标题"></a>四级标题</h4><h5 id="五级标题"><a href="#五级标题" class="headerlink" title="五级标题"></a>五级标题</h5><h6 id="六级标题"><a href="#六级标题" class="headerlink" title="六级标题"></a>六级标题</h6><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 一级标题</span></span><br><span class="line"><span class="comment">## 二级标题</span></span><br><span class="line"><span class="comment">### 三级标题</span></span><br><span class="line"><span class="comment">#### 四级标题</span></span><br><span class="line"><span class="comment">##### 五级标题</span></span><br><span class="line"><span class="comment">###### 六级标题</span></span><br></pre></td></tr></table></figure>
<h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><pre><code>&gt; 列表
    子列表1
    子列表2
    子列表3</code></pre>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">- 列表</span><br><span class="line">* 列表</span><br><span class="line">+ 列表</span><br></pre></td></tr></table></figure>
<h2 id="区块引用"><a href="#区块引用" class="headerlink" title="区块引用"></a>区块引用</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt; 注意!!!!</span><br><span class="line">&gt;&gt; 这是二级引用!!!!</span><br><span class="line">&gt;&gt;&gt; 这是三级!!!!</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意!!!</p>
<blockquote>
<p>这是二级引用!!!!</p>
<blockquote>
<p>这是三级!!!!</p>
</blockquote>
</blockquote>
</blockquote>
<h2 id="这是分割线"><a href="#这是分割线" class="headerlink" title="这是分割线"></a>这是分割线</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">***</span><br><span class="line">---</span><br><span class="line">___</span><br></pre></td></tr></table></figure>
<hr>
<hr>
<hr>
<h2 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt; [去百度](https://www.baidu.com)</span><br></pre></td></tr></table></figure>
<blockquote>
<p><a href="https://www.baidu.com/">去百度</a></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;p&gt;&lt;a href=<span class="string">&quot;https://www.baidu.com&quot;</span>&gt;还可以这样去百度&lt;/a&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure>
<p><a href="https://www.baidu.com">还可以这样去百度</a></p>

<h2 id="代码框"><a href="#代码框" class="headerlink" title="代码框"></a>代码框</h2><blockquote>
<p>单行代码``<br>  <code>&lt;span&gt;好耶&lt;/span&gt;</code></p>
</blockquote>
<blockquote>
<p>多行代码<br>    <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">```bash 注释</span><br><span class="line">&lt;span&gt;好耶&lt;/span&gt;</span><br><span class="line">&lt;span&gt;禁止好耶&lt;/span&gt;</span><br><span class="line">&lt;span&gt;好耶&lt;/span&gt;</span><br><span class="line">```</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h2 id="强调"><a href="#强调" class="headerlink" title="强调"></a>强调</h2><blockquote>
<p><em>字体倾斜</em><br><em>字体倾斜</em><br><strong>字体加粗</strong><br><strong>字体加粗</strong></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">*字体倾斜*</span><br><span class="line">_字体倾斜_</span><br><span class="line">**字体加粗**</span><br><span class="line">__字体加粗__</span><br></pre></td></tr></table></figure>
<h2 id="删除线"><a href="#删除线" class="headerlink" title="删除线"></a>删除线</h2><blockquote>
<p><del>删除</del></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">~~删除~~</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>简单</tag>
        <tag>基础</tag>
      </tags>
  </entry>
  <entry>
    <title>markDown简单格式</title>
    <url>/2021/01/16/Hexo%E4%B8%8EmarkDown-2021-01-16-markDown%E7%AE%80%E5%8D%95%E6%A0%BC%E5%BC%8F/</url>
    <content><![CDATA[<h1 id="新建一篇文章"><a href="#新建一篇文章" class="headerlink" title="新建一篇文章"></a>新建一篇文章</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new [layout] &lt;title&gt;</span><br><span class="line">hexo n [layout] &lt;title&gt;</span><br></pre></td></tr></table></figure>
<h1 id="文章属性编辑"><a href="#文章属性编辑" class="headerlink" title="文章属性编辑"></a>文章属性编辑</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: </span><br><span class="line">date: </span><br><span class="line">urlname:                  <span class="comment">#自定义文章URL</span></span><br><span class="line">categories:</span><br><span class="line">	- 分类1</span><br><span class="line">	- 分类2</span><br><span class="line">tags: </span><br><span class="line">	- 标签1</span><br><span class="line">	- 标签2</span><br><span class="line">thumbnail:                <span class="comment">#文章预览图</span></span><br><span class="line">comments: <span class="literal">true</span>            <span class="comment">#评论系统</span></span><br><span class="line">toc: <span class="literal">true</span>                 <span class="comment">#目录</span></span><br><span class="line">mathjax: <span class="literal">true</span>             <span class="comment">#公式渲染</span></span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<h1 id="文章内容写法"><a href="#文章内容写法" class="headerlink" title="文章内容写法"></a>文章内容写法</h1><h2 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h2><blockquote>
<blockquote>
<blockquote>
<h3 id="三级标题"><a href="#三级标题" class="headerlink" title="三级标题"></a>三级标题</h3><blockquote>
<h4 id="四级标题"><a href="#四级标题" class="headerlink" title="四级标题"></a>四级标题</h4><blockquote>
<h5 id="五级标题"><a href="#五级标题" class="headerlink" title="五级标题"></a>五级标题</h5></blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 一级标题</span></span><br><span class="line"><span class="comment">## 二级标题</span></span><br><span class="line"><span class="comment">### 三级标题</span></span><br><span class="line"><span class="comment">#### 四级标题</span></span><br><span class="line"><span class="comment">##### 五级标题</span></span><br></pre></td></tr></table></figure>
<h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><pre><code>&gt; 列表
    子列表1
    子列表2
    子列表3</code></pre>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">- 列表</span><br><span class="line">* 列表</span><br><span class="line">+ 列表</span><br></pre></td></tr></table></figure>
<h2 id="区块引用"><a href="#区块引用" class="headerlink" title="区块引用"></a>区块引用</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt; 注意!!!!</span><br><span class="line">&gt;&gt; 这是二级引用!!!!</span><br><span class="line">&gt;&gt;&gt; 这是三级!!!!</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意!!!</p>
<blockquote>
<p>这是二级引用!!!!</p>
<blockquote>
<p>这是三级!!!!</p>
</blockquote>
</blockquote>
</blockquote>
<h2 id="这是分割线"><a href="#这是分割线" class="headerlink" title="这是分割线"></a>这是分割线</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">***</span><br><span class="line">---</span><br><span class="line">___</span><br></pre></td></tr></table></figure>
<hr>
<hr>
<hr>
<h2 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt; [去百度](https://www.baidu.com)</span><br></pre></td></tr></table></figure>
<blockquote>
<p><a href="https://www.baidu.com/">去百度</a></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;p&gt;&lt;a href=<span class="string">&quot;https://www.baidu.com&quot;</span>&gt;还可以这样去百度&lt;/a&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure>
<p><a href="https://www.baidu.com">还可以这样去百度</a></p>

<h2 id="代码框"><a href="#代码框" class="headerlink" title="代码框"></a>代码框</h2><blockquote>
<p>单行代码``<br>  <code>&lt;span&gt;好耶&lt;/span&gt;</code></p>
</blockquote>
<blockquote>
<p>多行代码<br>    <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">```bash 注释</span><br><span class="line">&lt;span&gt;好耶&lt;/span&gt;</span><br><span class="line">&lt;span&gt;禁止好耶&lt;/span&gt;</span><br><span class="line">&lt;span&gt;好耶&lt;/span&gt;</span><br><span class="line">```</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h2 id="强调"><a href="#强调" class="headerlink" title="强调"></a>强调</h2><blockquote>
<p><em>字体倾斜</em><br><em>字体倾斜</em><br><strong>字体加粗</strong><br><strong>字体加粗</strong></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">*字体倾斜*</span><br><span class="line">_字体倾斜_</span><br><span class="line">**字体加粗**</span><br><span class="line">__字体加粗__</span><br></pre></td></tr></table></figure>
<h2 id="删除线"><a href="#删除线" class="headerlink" title="删除线"></a>删除线</h2><blockquote>
<p><del>删除</del></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">~~删除~~</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>markDown</category>
      </categories>
      <tags>
        <tag>简单</tag>
        <tag>基础</tag>
        <tag>markDown</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo使用与部署</title>
    <url>/2021/09/11/Hexo%E4%B8%8EmarkDown-2021-09-11-Hexo%E4%BD%BF%E7%94%A8%E4%B8%8E%E9%83%A8%E7%BD%B2/</url>
    <content><![CDATA[<blockquote>
<p>Hexo使用以及部署到仓库</p>
</blockquote>
<h1 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h1><p>Hexo安装</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure>
<p>创建Hexo所需文件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo init myBlog</span><br><span class="line">cd myBlog</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure>
<p>Hexo目录</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">_config.yml-----网站的配置信息，可在此配置大部分的参数</span><br><span class="line">package.json</span><br><span class="line">scaffolds-------模版文件夹</span><br><span class="line">source----------资源文件夹，除 _posts 文件，其他以下划线_开头</span><br><span class="line">                的文件或者文件夹不会被编译打包到public文件夹</span><br><span class="line">    _drafts-----草稿文件</span><br><span class="line">    _posts------文章Markdowm文件 </span><br><span class="line">themes----------主题文件夹</span><br></pre></td></tr></table></figure>
<p>Hexo常用命令</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install hexo -g------安装</span><br><span class="line">npm update hexo -g-------升级</span><br><span class="line">hexo init----------------初始化博客</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo n 文章---------新建文章</span><br><span class="line">hexo g-------------生成</span><br><span class="line">hexo s-------------启动服务</span><br><span class="line">hexo d-------------部署</span><br><span class="line">hexo clean---------清理缓存</span><br></pre></td></tr></table></figure>
<h1 id="创建SSH-Key"><a href="#创建SSH-Key" class="headerlink" title="创建SSH Key"></a>创建SSH Key</h1><p>要使用 git 工具要先配置SSH key，为部署本地博客到 Github 做准备。</p>
<p>在<code>git Bash Here</code>中输入<code>cd ~/.ssh</code> </p>
<p>如果没报错或者提示什么的说明就是以前生成过的，直接使用 <code>cat ~/.ssh/id_rsa.pub</code></p>
<p> 命令就可以查看本机上的 SSH key 。</p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210911124414154.png"></p>
<p>如果之前没创建，则全局配置本地用户</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git config --global user.name &quot;用户名&quot;</span><br><span class="line">git config --global user.email &quot;邮箱地址&quot;</span><br></pre></td></tr></table></figure>
<p>生成SSH Key</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &#39;邮箱地址&#39;</span><br></pre></td></tr></table></figure>
<p>然后回车，出现 <code>Overwrite (y/n)?</code>,则输入<code>y</code>，若没有则一直回车。</p>
<p>生成的ssh路径在<code>C:\Users\Seto\.ssh</code><br><code>id_rsa</code>私人密钥<br><code>id_rsa.pub</code>公共密钥<br>用记事本打开复制<code>id_rsa.pub</code>里面的内容</p>
<p>或直接在<code>git Bash Here</code>获取SSH Key</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cat ~&#x2F;.ssh&#x2F;id_rsa.pub</span><br></pre></td></tr></table></figure>


<h1 id="创建仓库"><a href="#创建仓库" class="headerlink" title="创建仓库"></a>创建仓库</h1><h2 id="基于GitHub创建"><a href="#基于GitHub创建" class="headerlink" title="基于GitHub创建"></a>基于GitHub创建</h2><p>新建<strong>github用户名.github.io</strong>仓库</p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210915171736750.png"></p>
<p>打开GitHub设置添加刚生成的SSH Key</p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210911125511783.png"></p>
<p>填入刚查到的SSH Key</p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210911125737311.png"></p>
<p>验证是否设置成功</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210911125248177.png"></p>
<h2 id="基于Gitee创建"><a href="#基于Gitee创建" class="headerlink" title="基于Gitee创建"></a>基于Gitee创建</h2><p>新建仓库</p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210915165008586.png"></p>
<p>添加公链</p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210915165204902.png"></p>
<p>验证是否设置成功</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh -T git@gitee.com</span><br></pre></td></tr></table></figure>
<p>输入yes并回车<img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210915204141728.png"></p>
<h2 id="部署到仓库"><a href="#部署到仓库" class="headerlink" title="部署到仓库"></a>部署到仓库</h2><p>安装部署插件<strong>hexo-deployer-git</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>


<h3 id="部署到GitHub"><a href="#部署到GitHub" class="headerlink" title="部署到GitHub"></a>部署到GitHub</h3><p>修改配置文件</p>
<ul>
<li><p>修改根目录下**-config.yml**文件</p>
<blockquote>
<p>给hexo d命令做部署位置的配置，让hexo知道部署在GitHub仓库</p>
</blockquote>
</li>
</ul>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210911132636042.png"></p>
<p>执行命令部署上传</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo g -d</span><br></pre></td></tr></table></figure>
<h1 id="图床"><a href="#图床" class="headerlink" title="图床"></a>图床</h1>]]></content>
      <categories>
        <category>博客</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>卡通角色建模</title>
    <url>/2021/09/10/%E5%BB%BA%E6%A8%A1-2021-09-10-%E5%8D%A1%E9%80%9A%E8%A7%92%E8%89%B2%E5%BB%BA%E6%A8%A1/</url>
    <content><![CDATA[<blockquote>
<p>做的丑也要做的一个卡通素体的建模过程</p>
</blockquote>
<h1 id="头部"><a href="#头部" class="headerlink" title="头部"></a>头部</h1><p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210910171815896.png"></p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210910171828390.png"></p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210910172015571.png"></p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210910172138297.png"></p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210910172219684.png"></p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210910202448970.png"></p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210910202652628.png"></p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210910210357295.png"></p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210911150140368.png" alt="然后细化？"></p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210911155053864.png" alt="然后就是一直改了，怎么可爱怎么来"></p>
<h1 id="身体"><a href="#身体" class="headerlink" title="身体"></a>身体</h1><p>我也不知道咋整，靠感觉吧</p>
<h2 id="测试一"><a href="#测试一" class="headerlink" title="测试一"></a>测试一</h2><p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210913165032995.png"></p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210913165341039.png"></p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210913165657516.png"></p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210913170811829.png"></p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210913173454832.png"></p>
<h1 id="手部"><a href="#手部" class="headerlink" title="手部"></a>手部</h1><p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210913211343504.png"></p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210913215206630.png"></p>
<p><img src="https://gitee.com/Tanglk-Seto/photo-gallery/raw/master/img/image-20210913222213028.png" alt="不做了，直接套原来的"></p>
<p>好吧，我已经不知道怎么做手了，直接用以前做完的。</p>
]]></content>
      <categories>
        <category>建模</category>
      </categories>
      <tags>
        <tag>角色建模</tag>
        <tag>建模流程</tag>
        <tag>卡通</tag>
      </tags>
  </entry>
</search>
